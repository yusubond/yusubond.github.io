<!doctype html>
<html lang="zh-CN">
<head>
	<meta name="generator" content="Hugo 0.102.3" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <title>subond</title>
    <meta property="og:title" content="subond">
    <meta property="og:type" content="website">
    <meta name="Keywords" content="">
    <meta name="description" content="">
    <meta property="og:url" content="http://www.subond.com/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml" href="http://www.subond.com/index.xml" title="subond" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <h1>
                        <a id="logo" href="http://www.subond.com/">
                            subond
                        </a>
                    </h1>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="http://www.subond.com/">首页</a>
                    
                    <a  href="http://www.subond.com/archives/" title="归档">归档</a>
                    
                    <a  href="http://www.subond.com/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/first-post/" title="First Post" target="_blank">First Post</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2022年9月13日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/%E6%9D%82%E8%B0%88' target="_blank">杂谈</a>
            </span>
            
        </div>
        
        <div class="post-content">
            Hi is subond~……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/first-post/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/25lessonsbefore25/" title="25岁应该学到的25堂课" target="_blank">25岁应该学到的25堂课</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2018年9月8日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/nextme' target="_blank">NextMe</a>
            </span>
            
        </div>
        
        <div class="post-content">
            作者：Andrew Ferebee
原文：25 Lessons I Wish I Had Learned Before 25
几个月前我才30岁。我简直不敢相信我写的那个&hellip;&hellip;
回顾我的20年代，我希望我能学到无数的课程，这样就可以让我拯救我多年的痛苦，心痛与沮丧。对于今天的我，我十分感激，但这并不能改变我过去十年的生活。但是，如果我重新做一遍，知道我今天所知道的，我会告诉20岁的自己(my 20-year-old self)有成千上万的事情。
以下是我希望自己25岁之前应该学到的25堂课：
1. 自力更生[Be Self Reliant ] 学会在没有他人的帮助下，自己帮助自己并追求自己想要的东西。这才是真正力量的所在。没有人会来拯救你。你必须接管自己的风帆，掌握自己的命运。
没有人会来拯救你，越早掌握自己的命运，你就能越早完全按照你想要的方式生活。你的父母，朋友和政府都不会给你你想要的生活。
如果你想按照自己的意愿生活，那么就要自力更生并实现目标。
2. 照顾好自己的健康[Take Care of Your Health] 如果你在20岁时养成良好的健康习惯，你的余生将会更加容易。我知道很多30岁的人看起来像40岁，因为他们没有照顾好自己。我很幸运能够在20多岁的时候接受运动疗法和全食物饮食，但是我也在深夜，因为过量饮酒和缺乏运动而浪费了很多年。
如果你真的想要成为最好的自己，那么你必须每周至少锻炼3次，每晚睡8小时，吃全食，多喝水，避免吸毒。
3.不要进行无保护措施的性行为[Don’t have unprotected sex] 只是不要&hellip;&hellip;短暂的快乐与永久性病的可能性或者与你没有联系的人生孩子相比，永远不值得。性是惊人的，不可否认。但是，不要为了快速的高潮而放弃未来18年的生活。
4.父母不是万能的[Your Parents Don’t Know Everything] 也许，当你还是小孩的时候，已经意识到了——你的父母也像你一样，也是普通人。他们想要给你最好的东西，但也许并不知道对你来说什么才是最好的东西。如果你的父母并没有给你一个如你期望的那样的一个完美答案，那么你不需要必须接受他们的建议。当然，尊重他们，但不要一直听他们的。
你不会因为他们爱你而从胖子那里得到健身建议。你也不能仅仅因为抚养，而从父母那里接受生活建议。根据自己可以找到的最佳证据和建议，为自己的生命负责，做出的自己的决定。
5.谨慎地听取建议[Be Careful who you listen to] 如果你不与另一个人交换生活，那么你可能不应该接受他们的建议。这就像从10万美元的债务中获取财务建议(除非他们告诉你什么不该做，但即便如此&hellip;&hellip;)
谨慎地听取建议，即使有人拥有外在成功的所有特征，他们也可能在内心完全情绪破产和悲惨。
慢慢倾听别人的意见，并迅速提出建议，无论它来自哪里。
6.延迟满足感[Save Now, Enjoy Later] 说真的，如果从现在开始，将你赚的每一笔钱的15%进行储蓄。就像我在我的财务终极指南中谈到的那样，你需要建立一个战争胸部，这样你就可以抓住机会，在你的生活中创造真正的自由。
通过节省15-20％的税后收入，我已经能够辞掉我的工作，开始了解人类知识，使我在加密市场上的投资增加四倍，并对短期商业机会进行杀戮遥不可及。
坚持下去并不是一个容易的习惯，但是当你有一大笔现金并且想要辞掉工作或开始创业时，你会感谢我。
7.不要以自我为中心[You Aren’t Special and No One Cares] 我知道很多人都告诉过你，你很特别。但实际上你没有，也没有人关心你。如果你想成为“特别的人”，那就停止谈论你将来会做些什么，然后去做一些值得被记住的事情。
退出就像你是宇宙的中心或你在某种程度上有权获得成功。这个世界充斥着比你更饥饿，更有动力的人。让你的行动胜于你的言语，并停止假装世界欠你任何东西。
8.成功有迹可循[Success Leaves Clues] 凭借运气获得成功的人并不多。但是，如果你想要获得一些东西，很有可能，有一个成熟的系统可以帮助到你。跟随那些已经得到你想要的结果的人，你可能会得到同样的结果。是的，你需要小心接受建议。但是当你发现有人正过着你真正想要的生活的时候，要倾听他们所说的一切并立即应用它。……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/25lessonsbefore25/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/create_habits/" title="高创造性人士的7个习惯" target="_blank">高创造性人士的7个习惯</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2018年8月3日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/read' target="_blank">READ</a>
            </span>
            
        </div>
        
        <div class="post-content">
            古希腊人认为，创造力就是这种神圣的伴随精神，它源于一些遥远而不可知的原因。他们称这些灵魂守护进程。罗马人也有类似的想法，但称精神是天才。
几个世纪后，没有太大变化。唯一的区别是我们不再将创造力归功于神圣的灵魂，而是归于特殊的个体。我们认为只有贝多芬，毕加索和莫扎特才具有创造性的天才。
事实上这不是真的。
今天，我们解构和分析这个最难以捉摸的过程。我们逐渐明白，任何人都可以使用特定的行为和心态来达到预期的结果。
以下是高创造性人士的七种习惯。
1.像艺术家一样偷窃[Steal Like An Artist] 有抱负的创意人必须首先认识到这一事实。我们只需要转向Austin Kleon的书《Steal Like a Artist 》来学习：
“一个好的艺术家理解的是，没有任何东西来自任何地方。所有创造性工作都建立在以前的基础上。没有什么是完全原创的。”
人们必须意识到，一件作品的想法和灵感来自许多地方。每个新想法都只是混搭或以前想法的混合。这就是为什么Kleon写道，“当人们称之为&rsquo;原创&rsquo;时，&lsquo;十之八九，他们只是不知道参考文献或涉及的原始资料。”
这位优秀的艺术家尽可能地模仿他人的风格。伟大的艺术家从他人的作品中选择元素，并将其融入他自己的影响中。他非常有品位，知道正确的融合会创造出独特的东西，虽然不是完全原创的。
所以学会像艺术家一样偷窃，整个世界都在争夺。
2.永远在研究[Always Be Researching] 要找到值得偷窃的东西，必须找到合适的地方。
输入有助于输出，不能绕过那个。消耗的信息质量决定了人们将要生产的工作质量。在噪声经常淹没信号的世界中，找到最好的想法通常很困难。
有两种方法可以解决这个问题。第一个是Kleon所谓的分支，这对于探索一个想法的变化很有用。
“嚼一个思想家。研究有关该思想家的所有知识。然后找三个他爱的人，找出他们的一切。尽可能多地重复此操作。尽可能地爬上树的最顶端。“
这不是筛选有价值想法的唯一方法。创意源于创造以前从未见过的东西。这就是为什么畅销书作家Ryan Holiday在他怀疑时会转向经典。
经典作品是之所以称为“经典”的原因之一就是——他们经受住了时间的考验。斯多葛主义的哲学可以追溯到古希腊人，但是Ryan Holiday在他的书《 Ego Is The Enemy 》和《 the Obstacle is the Way》中展示了这些想法是如何相关的。他没有提出这些想法; 他应用了它们。
仅观察周围环境是不够的。创意积极寻求各方面的最佳创意。他们一直在研究。
3.探索新领域[Enter New Domains] 随着我们在工作中获得更多经验和专业知识，我们变得更加根深蒂固地观察世界。它使我们更有效率，因为我们消除了部分思维过程，但缺点是我们对新想法的接受程度降低，对变化的反应也较少。
正如亚伯拉罕马斯洛所说的那样：拿锤子做事情人的眼里往往一切都是钉子。
对于任何希望做好工作的创意人士而言，这都是一个死刑判决。这也是公司在未来几年内破产的最可靠方式。
搜索引擎早在谷歌出现之前就存在了，但由于显示的结果不是用户想要的，因此使用受限。当谷歌采用新方法返回结果时，谷歌改变了这一点——选择关注质量而非人气。
这种变化的灵感来源？学术出版。
在学术界，人们可以通过引用的频率轻松地确定论文的质量和相关性。最好的研究论文上升到顶部，而更有限的研究论文逐渐消失。这是一个优雅的想法，拉里佩奇很乐意介绍谷歌的搜索算法。它现在在搜索引擎优化（SEO）领域被称为反向链接。
原创和创造性的解决方案并不总是来自重新发明轮子。相反，它来自开发创新的应用程序，而不是想象全新的概念。
你可以从找到两个完全不同的想法并将它们组合起来。
4.尽可能地多产[Be More Prolific] 托马斯爱迪生以不懈地进行实验而闻名。他实验的绝对数量最终将导致他拥有拥有最多专利的记录——以他的名义超过1090。毕加索画了超过20,000件作品。巴赫每周至少做一件作品。
大多数这些作品从未达到过多。他们是街上普通人永远不会再看的创作。事实证明，我们都不能准确地预测哪些想法会被击中，哪些想法会被遗漏。
那么，解决方案是什么呢？创作更多的作品，终有一件会脱颖而出。如果你提出的每十个想法中只有一个想法是好的，那就意味着你应该在制作一百个想法来提出十个好想法。同样适用于写作，作曲或绘画。
人们普遍认为，在数量和质量之间需要权衡——如果你想做更好的工作，你必须做更少的工作——但事实证明这是错误的。数量滋生品质。创造某种东西的行为，无论多么糟糕，都是创造更好的东西的实践。
这就是为什么史蒂夫乔布斯说，“真正的艺术家出货”。
5.给自己许可吮吸[Give Yourself Permission To Suck] 理论上尽可能地多产是个不错主意，但在实际应用中却很难。唯一和最重要的原因是我们不允许自己吮吸。
Stephen Pressfield也知道这一点。在《艺术的战争》中他把害怕所有广告都称之为抵抗。
“另一方面，业余爱好者过度认同他的爱好，他的艺术抱负。他用它来定义自己。他是一位音乐家，画家，剧作家。忍者喜欢这个。抵抗知道业余作曲家永远不会写他的交响曲，因为他过度投入其成功并过度恐惧其失败。业余爱好者认真对待它使他瘫痪。“……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/create_habits/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/confiden_and_certainty/" title="年轻的自信与成熟的笃定" target="_blank">年轻的自信与成熟的笃定</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2017年11月19日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/life' target="_blank">LIFE</a>
            </span>
            
        </div>
        
        <div class="post-content">
            当一个年轻人开始逐渐摆脱盲目自信的时候，脚步更加坚定的时候，他迎来的是更加成熟的笃定。
今天吴晓波频道（微信号公众号：wuxiaobopd）推送了一篇文章，叫做《月入2万，95后还觉得自己活得不如狗？》，文中提到极光大数据发布的《95后群体画像研究报告》，于是便找来看了一番。其中，让我感兴趣的部分是如何看待比自己早生/晚生10年的一代人。
数据表明，相比其他年龄群体，95后对85后的评价普遍偏低，同样对“晚辈”（05后）的评价也不高，但是对于自己的评价，42.7%的人认为自己重诚信，尊老爱幼，乐于助人、爱国、孝顺、有礼貌的爱国青年。
这种种数据表明，95后是自信的一代。当然，这并不是没有任何理由。作为90后，我们生活在长期和平的年代，1978年改革开放后，无论是城市还是农村，生活水平都有不同程度的提高。我们的父母都是改革开放的见证者，等到我们出生的时候，温饱问题基本上解决了（除了少数偏远山村）。与此同时，90s年代，又是信息技术发展的快速时期，使我们这一代从小就接触到电脑，互联网。这样良好的成长环境使我们更加自信，
但是，我想说的是，自信并不属于95后，而是属于年轻人。纳什·沃夏尔·硕得提出的&quot;社会三定律&quot;讲的就是这个道理：
一，任何比我早出生10年及以上的人都是裹步不前的老顽固。
二，任何出生时间和我相差10年以内的人都是这个社会的精英，中流砥柱。
三，任何比我晚出生10年及以上的人都是无可救药垮掉的一代。 ​​​​
所以，自信永远属于年轻人，自命不凡的年轻人。年少无知，无知即无畏。初生牛犊不怕虎，说的正是年轻人。
正如，当一个人开始怀念少年时光的时候，他的少年时代就已经一去不复返了，此时此刻的他俨然成了一个有责任的青年人。同样，当一个年轻人开始逐渐摆脱盲目自信的时候，脚步更加坚定的时候，他迎来的是更加成熟的笃定。……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/confiden_and_certainty/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/two_fundamental_truths/" title="关于找工作的两个基本事实" target="_blank">关于找工作的两个基本事实</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2017年11月8日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/life' target="_blank">LIFE</a>
            </span>
            
        </div>
        
        <div class="post-content">
            对于应届毕业生而言，由于缺乏工作经验，对工作环境缺少了解，往往不能够很快地进入工作状态。这时候，如果能够获得一份不错的实习机会，对今后的工作可以说是大有裨益。
一份良好的实习不仅可以帮助我们了解真实的工作环境和氛围，而且可以帮助我们调整自己的心态，逐步从校园生活过渡到社会生活。同时，如果在实习工作中培养了自己良好的工作习惯和职业操守，对于技术类实习生而言，还能够提高自己的技术水平，那自然是更好的事情了。
那么，对于找实习，甚至是找工作来说，我觉着有两个基本事实需要求职者明白，并做好的相应的应对措施。
事实一：工作机会总是有的，只是合适人却不常有。
作为接受过高等教育的应届生，社会上的工作机会总是有的，所以，不要担心工作问题，一定要注意自己作为求职者的自信。除了没有工作经验，你没有比任何人差，甚至有些时候，没有工作经验还是好事。没有工作经验，在工作中往往更有利于发挥你的创新能力，也更有职业的可塑性的可能。
“千里马常有，而伯乐不常有”。对于工作，也是同样的道理。几乎没有人能够完全匹配一项工作。对于某些关键岗位来说，合适的人就更加少了，为了找的这样的人，公司也往往不惜花费重金。
因此，与其找工作，不如让工作来找你，让自己成为那个最合适的人选，做到主动择业。
事实二：好的工作机会是有限的，就像社会资源有限一样。
那么，什么是好的工作机会？我想应该具备以下两个特征：
工作内容具有一定程度的挑战性。作为求职者，求职过程中我们往往寻找那些与我们能力相匹配的工作岗位。但是，事实却是具有一定挑战性的工作往往更容易激发我们的工作热情，发掘个人的工作能力。不然，一份工作就变成毫无意义的 重复性劳动。 一份好的工作，应该是下一份工作的基础。现代社会的发展非常迅速，几乎没有人能够一生只在一个岗位上工作。既然是这样，那么现在的工作应该而且必须成为我们下一次择业的基础。因此，设想自己3-5年后的工作，然后反推。即如果自己想要获取那样的工作，应该具备什么的工作能力，专业素质等，并依次为依据作为这次工作应该着重培养的能力。如果，这份工作能够满足未来的期望，那么它就是一个好工作。这样想来，好工作就是有限的资源。 对于公司而言，面向应届生招聘也往往看重应届生对基础知识的把握。而对应届生而言，大多数人所具备的专业知识又是相对同质化的，而且，简单的30分钟左右的面试，也不能很好地评估一个人所具备的能力。所以说，一份你能胜任的好工作，意味着你的同学也同样可以胜任。但是，好机会的名额却是有限的。那么，想要获得这样的好工作，就要抢占先机，尽早地拿到这个名额。所以，有些时候，并不是你不适合这个工作，而是你来晚了。对这一点，你要有心理准备。……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/two_fundamental_truths/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/starting_jog/" title="初入职场" target="_blank">初入职场</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2017年10月8日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/life' target="_blank">LIFE</a>
            </span>
            
        </div>
        
        <div class="post-content">
            “如何有机会让现在的你遇到刚毕业初入职场的你，你会对他说什么？”这是一个知乎上的问题，以下的回答部门节选自冯大辉。
能力的提升比薪资更重要，尽管现在的你比较缺钱。【这个观点与吴军老师的观点不谋而合。初入职场，重要的是提升自己的能力，培养良好的工作习惯。因为，现阶段的薪资就基本上是挣多少花多少，而能力的提升与培养才能够让你有机会在3-5年后拿到同龄人3-5倍的薪酬。】
注意仪表仪容，尽管你是一个工程师。【没有人会通过一个邋遢的外表去关注一个有趣的灵魂。】
你的同事不是笨蛋，你的客户也不是白痴，你自己才是蠢货。【遇事多找自身原因，摆脱学生时代的依赖，学会自己去处理任何事情。】
做好每一个小事，处理好每一件小事的细节；如果做不好的地方多总结，找出原因并改进。
培养一个好习惯。比如每天工作记录，每天回顾自己，每天Review代码。一段时间之后你就会发现，好习惯可以秒杀一部分人；如果能够多培养几个好习惯，你就会变得优秀，甚至卓越。
提高沟通能力，注意写作。适应跟不同风格的人协作；能够把一件事情讲清楚，写清楚。
锻炼身体，这是_革命的本钱_。
靠谱就是三件事：“凡事有交代，件件有着落，事事有回音”。——罗振宇……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/starting_jog/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/docker_swarm5/" title="Docker进阶：服务配置" target="_blank">Docker进阶：服务配置</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2017年5月1日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/tech' target="_blank">TECH</a>
            </span>
            
        </div>
        
        <div class="post-content">
            当使用Docker Swarm模式时，我们可以通过命令docker service create向Swarm集群部署应用服务。Swarm集群中的管理节点将服务描述视为应用服务所需的状态。其次，所有服务相关的命令，即docker service，一定要在管理节点上运行(管理节点负责Swarm集群中的服务管理和任务编排)。
本文目录：
创建服务 配置服务 创建服务 Swarm集群中最简单创建服务的方式就是指定所要创建的服务镜像就可以，即命令docker service create &lt;IMAGE&gt;。当执行创建服务命令后，Swarm编排器则向可用节点分派服务任务。一个任务其实就是一个基于指定镜像生成的容器。比如，创建一个nginx web服务。
# 在管理节点上 # --name参数用于指定服务的名称 $ docker service create --name myweb nginx l3w3x4df6tnia8qql64mkdm1s # 查看Swarm集群中的服务 $ docker service ls ID NAME MODE REPLICAS IMAGE l3w3x4df6tni myweb replicated 1/1 nginx:latest 当然，我们也可以在部署服务时指定容器中将要运行的指令，其命令为docker service create &lt;IMAGE&gt; &lt;COMMAND&gt;。
$ docker service create --name myalpine ping www.bing.com 服务配置 当创建一个服务时，我们通过修改配置选项对服务进行限制，命令docker service create --help可以查看创建服务的帮助信息。
配置服务的运行环境
我们可以通过以下参数配置服务的运行环境：
&ndash;env参数可以指定环境变量 &ndash;workdir参数可以指定容器中的工作目录 &ndash;user参数可以指定用户名或者UID # 通过不同的参数配置服务 $ docker service create --name myservice \ --env MYSERVICE=/usr/local/service --workdir /tmp --user subond alpine ping www.……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/docker_swarm5/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/docker_swarm4/" title="Docker进阶：以Swarm模式运行Docker引擎" target="_blank">Docker进阶：以Swarm模式运行Docker引擎</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2017年4月28日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/tech' target="_blank">TECH</a>
            </span>
            
        </div>
        
        <div class="post-content">
            Docker Engine 1.12及后续版本支持Swarm模式，我们可以通过以下两种方式开始Swarm模式：
创建一个Swarm集群 加入一个已有的Swarm集群 本文目录：
创建Swarm 加入Swarm 节点管理 创建Swarm 当我们使用命令行创建一个Swarm集群时，Docker引擎将启用Swarm模式。当执行docker swarm init命令时，Docker引擎将启动一个Swarm集群，主要过程如下：
将当前的模式切换至Swarm模式，并创建一个名为default的Swarm 指定当前节点为Swarm的管理节点，并以当前主机名命名当前节点 配置网络监听端口，端口号为2377 将当前节点设置为Active状态，意味着该节点可以接收调度器分派的任务 启动一个全局分布式数据中心，存储并维护Swarm信息和服务信息 默认情况下，为Swarm集群生成自签名根CA 默认情况下，生成工作节点和管理节点的token(令牌)，用于其他节点加入该Swarm 创建一个名为ingress的overlay网络，用于对外发布服务端口 # 创建一个swarm $ docker swarm init 配置通告地址
管理节点通过通告地址(advertise address)来允许Swarm集群中的其他节点访问Swarmkit API和覆盖网络。Swarm集群上的其他节点必须能够访问其通告地址(Ip地址)上的管理节点。
如果不指定通告地址，Docker则通过检查系统IP，设置其中一个为通告地址，并监听2377端口。如果系统有多个Ip，最好通过&ndash;advertise-addr配置通告地址，以便其他节点能够与管理节点进行通信。
# 设置通告地址 $ docker swarm init --advertise-addr 172.28.128.3:2377 Swarm initialized: current node (34y77dgnqon4soj2kqyb65a9y) is now a manager. To add a worker to this swarm, run the following command: docker swarm join \ --token SWMTKN-1-1omg2k2e92snxv3wlja3komux5wan4hynn80ikkma2s9rd5cxz-9hq2vf8n0jysukytfqpavd8j7 \ 172.28.128.3:2377 To add a manager to this swarm, run &#39;docker swarm join-token manager&#39; and follow the instructions.……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/docker_swarm4/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/docker_swarm3/" title="Docker集群：工作原理" target="_blank">Docker集群：工作原理</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2017年4月26日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/tech' target="_blank">TECH</a>
            </span>
            
        </div>
        
        <div class="post-content">
            一个Swarm是一组Docker引擎或节点的集群，并在这个集群之上部署服务和应用。我们可以使用Docker命令行工具或者API管理集群中的节点，并且还可以通过Swarm部署和编排相应的服务。当我们没有使用Swarm模式的时候，我们只是简单地对容器进行操作；而在Swarm模式下，我们就可以对服务进行编排。值得注意的是，在同一个Docker实例上既可以运行Swarm的服务，也可以运行独立的容器。
本文目录：
节点的工作原理 服务的工作原理 PKI工作原理 节点的工作原理 Docker1.12及其以后版本中引入的Swarm模式，即允许创建一个Docker集群。一个Swarm集群包含一个或多个节点，既可以是物理节点，也可以是虚拟节点。但是，需要保证的是节点上要安装Docker1.12或高于1.12的Docker引擎。
Swarm模式下节点分为两种：管理节点 和 工作节点。
管理节点
管理节点负责集群的管理任务：
维护集群状态信息 服务调度 处理Swarm模式下的API请求 通过Raft原理，管理节点负责维护整个Swarm集群的内部一致状态以及其上运行的所有服务。为了测试其功能，我们可以运行单个管理节点的Swarm集群。为了保证服务的正常运行，如果单个管理节点的Swarm集群失败，则需要创建一个新的Swarm集群来接管原来的服务。
为了很好的利用Swarm集群的容错功能，Docker建议部署奇数个节点以保证整个Swarm集群的高可用性。与此同时，当采用多个管理节点时，Swarm系统可以保证管理节点的故障恢复，而不会导致服务停机。
一个具有三个管理节点的Swarm集群，最多可允许一个管理节点出现故障。 一个具有五个管理节点的Swarm集群，最多可允许两个管理节点出现故障。 一个具有N个管理节点的Swarm集群，最多可允许(N-1)/2个管理节点出现故障。 在一个Swarm集群中，Docker推荐最多部署七个管理节点。因为，更多的管理节点并不一定意味着高可用性和高伸缩性，有时恰恰相反。
工作节点
工作节点也是Docker引擎的实例，主要负责运行容器实例。工作节点不参与Raft分布式状态维护，调度决策的制定以及服务Swarm模式下的API请求。我们可以创建单个管理节点的Swarm集群，但却不能创建具有单个工作节点的Swarm集群。模式情况下，所有的管理节点也是工作节点。当然，也可以通过配置，让管理节点仅负责“管理功能”。
为了防止服务调度器在具有多个节点的Swarm集群中，将任务布置到管理节点上，可以将管理节点的可用性设置为Drain。这样，服务调度器就不会将任务部署到Drain状态的节点上，而只将任务分派到Active状态的节点。
角色转换
Docker Swarm模式中，允许我们将工作节点提升为管理节点以保证整个Swarm集群的正常运行，尤其是在管理节点出现故障时。相关命令可以参考docker node promote。
同样的道理，我们也可以将管理节点变为工作节点。相关命令可以参考docker node demote。
服务的工作原理 在Swarm模式下，Docker允许我们通过创建服务的方式来部署应用镜像。通常情况下，服务是某些更大应用程序的上下文中为服务器的镜像。比如，服务包括HTTP服务器，数据库，或者希望在分布式环境中运行的任何类型的可执行程序。
当创建一个服务的时候，我们需要制定服务需要的镜像(即运行环境)和即将在容器中运行的命令(即应用程序)。当然，也包括其他选项：
端口:在Swarm集群外提供服务的端口 网络方式:用于连接到Swarm集群中其他服务的网络环境 系统限制:CPU和内存限制及预留 更新操作:更新时延策略 副本数量:Swarm中镜像的副本数量 服务，任务与容器
当我们向Swarm集群中部署服务时，管理节点将服务定义为服务所需的状态。然后，将服务以任务副本的方式分派到Swarm集群中的各个节点上。这些任务在Swarm集群中的节点上独立运行。
一个容器就是一个独立的进程。Swarm集群中，每个任务调用一个容器。一个任务类似调度器放置在容器里面的一个”插槽“。一旦容器处于运行状态，调度器能够识别任务处于运行状态。如果容器出现问题或终止，则任务终止。
任务与调度
任务是 Swarm集群中调度的基本单元，具有 原子性，即一个任务在容器中要么运行成功，要么失败。当我们创建或更新一个服务所需要的服务状态时，调度器通过调度任务来满足服务所需的状态。比如，我们创建一个包括三个HTTP监听的服务，调度器则通过创建三个任务来做出响应。每个任务都是调度器通过创建一个容器并填充一个”插槽“来实现。简单来讲就是，容器是任务的实例化。如果其中一个HTTP监听服务失败或崩溃，调度器将创建一个新容器并执行新的任务副本。
任务采用的是 单向机制。它通过一系列状态单独运行：分配，准备，运行等。如果任务失败，调度器将删除该任务及其容器，然后根据服务所需的状态创建一个新任务来替代原来的任务。
Swarm集群的基础逻辑包括 通用调度器 和 编排器。服务和任务均具有抽象性，而将其类型是不可知。假设我们要实现其他类型的任务，比如虚拟机任务或非容器化任务。调度器和编排器对于任务的类型是不可知的。但是，目前Docker只支持容器任务。
Swarm模式下如何接受服务并创建任务，以及将任务分派到其他节点，如下图所示。
复制及全局服务
Swarm模式下有两种服务的部署方式，复制服务 和 全局服务。
复制服务模式下，我们需要制定将要运行的任务副本的数量。比如，部署一个具有三个任务副本的HTTP监控服务，每个任务都具有相同的内容。
全局服务模式下，每个节点均运行一个服务的任务副本，不需要指定任务副本的数量。当新的节点加入Swarm集群后，编排器则创建新的任务并将其分派到该节点。监控服务，反病毒扫描程序或者其他类型的容器都是比较好的全局服务的对象。
PKI工作原理 Docker引擎中内置的公钥基础设施(Public Key Infrastructure)系统使得容器的部署和编排变得更加简单和安全。Swarm集群中的节点使用传输层安全(TLS)来认证，授权和加密它们与集群中其他节点的通信。
当我们使用命令docker swarm init创建一个Swarm集群时，Docker引擎则将当前节点视为一个管理节点。默认情况下，管理节点自身生成一个新的跟证书颁发机构(CA)以及密钥对，以保护与加入集群的其他节点的通信。当然，也可以通过配置&ndash;external-ca参数来指定外部的根证书颁发机构。
与此同时，管理节点还生成两个token值(用于向Swarm集群中加入节点)，一个是工作节点token值，另一个是管理节点token值。每一个token值都包含根CA证书的摘要和随机生成的密钥。当节点加入集群时，它使用摘要来验证远程管理节点的根CA证书，使用密钥来确保该节点是经过批准的节点。
# 创建一个swarm $ docker swarm init # 查看管理节点和工作节点的加入命令 # 向Swarm中加入管理节点 docker swarm join-token manager # 向Swarm中加入工作节点 docker swarm join-token worker $ docker swarm join-token manager To add a manager to this swarm, run the following command: docker swarm join \ --token SWMTKN-1-35n1uqy8q7si9lvkapojdkxjcntl5uixtdg1xo0ib3b2sg9t8g-86w02153sf0kbncz42aoa41p9 \ 10.……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/docker_swarm3/" target="_blank">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="http://www.subond.com/post/docker_swarm2/" title="Docker集群：服务回滚" target="_blank">Docker集群：服务回滚</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2017年4月24日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category">
                <a href='/categories/tech' target="_blank">TECH</a>
            </span>
            
        </div>
        
        <div class="post-content">
            一个Swarm是一组Docker引擎或节点的集群，并在这个集群之上部署服务和应用。我们可以使用Docker命令行工具或者API管理集群中的节点，并且还可以通过Swarm部署和编排相应的服务。当我们没有使用Swarm模式的时候，我们只是简单地对容器进行操作；而在Swarm模式下，我们就可以对服务进行编排。值得注意的是，在同一个Docker实例上既可以运行Swarm的服务，也可以运行独立的容器。
本文目录：
服务更新与回滚 路由网络 服务更新与回滚 Docker Swarm集群管理中支持服务的版本更新及回滚操作，具体演示如下：
所使用的系统环境环境如下：
三个节点(manager, worker1, worker2)均为Ubuntu16.04，即xenial64系统 节点的IP分布，manager(172.28.128.3), worker1(172.28.128.4), worker2(172.28.128.5) 首先，我们将Redis 3.0.6版本部署到Swarm集群中，并指定10s的更新时延。
# 在manger节点上 $ docker service create --replicas 3 --name redis --update-delay 10s redis:3.0.6 # --update-delay参数配置服务任务或任务集的更新的时延 # 其格式为T1hT2mT3s，即T1小时T2分钟T3秒 # 默认情况下，更新调度程序一次更新一个任务。但是，可以配置--update-parallelism参数指定同时更新的最大服务任数 # 默认情况下，当一个任务更新并返回RUNNING状态后，更新调度程序才调度另一个任务进行更新，直到所有的任务更新完成。 # 如果某个任务更新返回FAILED状态，更新调度程序则停止更新。 # 当然，也可以通过配置--update-failure-action参数指定服务创建和更新，例如： # --update-failure-action docker service create # --update-failure-action docker service update # 接下来，我们更新redis的镜像 $ docker service update --image redis:3.0.7 redis 如前所述，默认情况下，更新主要包括以下几个流程：
停止第一个任务 调度器更新已经停止的任务 为更新过的任务启动容器 若任务更新返回RUNNING状态，则等待设定的时延，并进行下一个任务的更新 若任务更新返回FAILED状态，则停止更新 更新结束后，我们看到如下状态：
$ docker service ps redis ID NAME IMAGE NODE DESIRED STATE CURRENT STATE ERROR PORTS i9c6xvbopko2 redis.……
        </div>
        <p class="readmore"><a href="http://www.subond.com/post/docker_swarm2/" target="_blank">阅读全文</a></p>
    </article>
    
    
    



<ol class="page-navigator">
    

    
    <li  class="current">
        <a href="http://www.subond.com/">1</a>
    </li>
    
    <li >
        <a href="http://www.subond.com/page/2/">2</a>
    </li>
    
    <li >
        <a href="http://www.subond.com/page/3/">3</a>
    </li>
    

    
    <li class="next">
        <a href="http://www.subond.com/page/2/">下一页</a>
    </li>
    
</ol>



</div>

                    <footer id="footer">
    <div>
        &copy; 2022 <a href="http://www.subond.com/">subond By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>





                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='//www.google.com/search' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="http://www.subond.com/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://www.subond.com/post/first-post/" title="First Post" target="_blank">First Post</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/25lessonsbefore25/" title="25岁应该学到的25堂课" target="_blank">25岁应该学到的25堂课</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/create_habits/" title="高创造性人士的7个习惯" target="_blank">高创造性人士的7个习惯</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/confiden_and_certainty/" title="年轻的自信与成熟的笃定" target="_blank">年轻的自信与成熟的笃定</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/two_fundamental_truths/" title="关于找工作的两个基本事实" target="_blank">关于找工作的两个基本事实</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/starting_jog/" title="初入职场" target="_blank">初入职场</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/docker_swarm5/" title="Docker进阶：服务配置" target="_blank">Docker进阶：服务配置</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/docker_swarm4/" title="Docker进阶：以Swarm模式运行Docker引擎" target="_blank">Docker进阶：以Swarm模式运行Docker引擎</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/docker_swarm3/" title="Docker集群：工作原理" target="_blank">Docker集群：工作原理</a>
    </li>
    
    <li>
        <a href="http://www.subond.com/post/docker_swarm2/" title="Docker集群：服务回滚" target="_blank">Docker集群：服务回滚</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>分类</a></h3>
<ul class="widget-list">
    
    <li><a href="http://www.subond.com/categories/life/">LIFE (5)</a></li>
    
    <li><a href="http://www.subond.com/categories/nextme/">NextMe (2)</a></li>
    
    <li><a href="http://www.subond.com/categories/read/">READ (1)</a></li>
    
    <li><a href="http://www.subond.com/categories/tech/">TECH (11)</a></li>
    
    <li><a href="http://www.subond.com/categories/%E6%9D%82%E8%B0%88/">杂谈 (1)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="http://www.subond.com/tags/carrer/">carrer</a>
    
    <a href="http://www.subond.com/tags/cloud/">cloud</a>
    
    <a href="http://www.subond.com/tags/docker/">docker</a>
    
    <a href="http://www.subond.com/tags/essay/">essay</a>
    
    <a href="http://www.subond.com/tags/git/">git</a>
    
    <a href="http://www.subond.com/tags/gitbook/">gitbook</a>
    
    <a href="http://www.subond.com/tags/growth/">growth</a>
    
    <a href="http://www.subond.com/tags/life/">life</a>
    
    <a href="http://www.subond.com/tags/linux/">linux</a>
    
    <a href="http://www.subond.com/tags/process/">process</a>
    
    <a href="http://www.subond.com/tags/pthread/">pthread</a>
    
    <a href="http://www.subond.com/tags/reading/">reading</a>
    
    <a href="http://www.subond.com/tags/work/">work</a>
    
    <a href="http://www.subond.com/tags/writing/">writing</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="http://www.subond.com/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>